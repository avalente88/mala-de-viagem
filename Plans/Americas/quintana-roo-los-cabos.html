<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plano de Viagem ‚Äî M√©xico + Toronto (abril 2026)</title>

  <!-- Usa o mesmo styles.css e fontes do projeto -->
  <!-- Ajusta o caminho para o teu styles.css conforme a tua estrutura -->
  <link rel="stylesheet" href="../../styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400..700&family=Great+Vibes&display=swap" rel="stylesheet">

  <script>
  // Aplica data-labels a todas as TD com base no texto dos TH
  function applyDataLabels(table) {
    if (!table) return;
    const ths = Array.from(table.querySelectorAll('thead th'));
    if (!ths.length) return;

    // Extrai os textos dos TH (tratando espa√ßos e quebras)
    const headers = ths.map(th => (th.textContent || '').replace(/\s+/g, ' ').trim());

    // Aplica em cada TD
    table.querySelectorAll('tbody tr').forEach(tr => {
      Array.from(tr.children).forEach((td, i) => {
        const label = headers[i] || '';
        if (label) td.setAttribute('data-label', label);
      });
    });
  }

  // Aplica aos seletores desejados
  function makeStackedTables(...selectors) {
    selectors.forEach(sel => {
      document.querySelectorAll(sel).forEach(applyDataLabels);
    });
  }

  // Corre quando o DOM estiver pronto
  document.addEventListener('DOMContentLoaded', function() {
    makeStackedTables('#voos table', '#hoteis table');

    // OPCIONAL: se a tua p√°gina renderiza/atualiza tabelas via JS depois do load
    // ativa este observer para voltar a aplicar labels quando o tbody mudar
    const observer = new MutationObserver(() => {
      makeStackedTables('#voos table', '#hoteis table');
    });
    document.querySelectorAll('#voos table tbody, #hoteis table tbody').forEach(tbody => {
      observer.observe(tbody, { childList: true, subtree: true });
    });
  });
</script>

</head>

<body>
  <!-- Top Navigation -->
  <nav class="top-navbar">
    <ul>
      <li><a href="../../index.html">Home</a></li>
      <li><a href="../../contacts.html">Contactos</a></li>
    </ul>
  </nav>

  <!-- Hero (logo) -->
  <header class="header-top" id="home">
    <div class="profile-container">
      <img src="../../Images/Designer.png" alt="Mala de Sonhos by Ana Valente">
    </div>
  </header>

  <main class="container">

    <!-- Resumo -->
    <section id="resumo" class="card">
      <h2 class="section-title">Resumo</h2>
      <div class="grid-2">
        <div>
          <p>
            <strong>Itiner√°rio:</strong>
            Lisboa ‚Üí Canc√∫n ‚Üí Los Cabos ‚Üí Toronto ‚Üí Lisboa
          </p>
        </div>
        <div class="right">
          <p class="total">TOTAL: 2‚ÄØ999‚Ç¨</p>
        </div>
      </div>
    </section>



    <!-- Galeria de fotos do destino -->
    <section id="fotos" class="card">
      <h2 class="section-title">Fotos do destino</h2>
      <div class="gallery">
        <figure>
          <img src="../../Images/MX/playa-delfines-cancun.jpg" alt="Canc√∫n" />
          <figcaption>Canc√∫n</figcaption>
        </figure>
        <figure>
          <img src="../../Images/MX/isla-mujeres.jpg" alt="Isla Mujeres" />
          <figcaption>Isla Mujeres</figcaption>
        </figure>
        <figure>
          <img src="../../Images/MX/los-cabos.jpg" alt="Los Cabos" />
          <figcaption>Los Cabos</figcaption>
        </figure>
        <figure>
          <img src="../../Images/MX/Cataratas-do-Niagara.jpg" alt="Cataratas do Niagara" />
          <figcaption>Cataratas do Niagara</figcaption>
        </figure>
      </div>
      </section>

    <!-- Aviso -->
    <section id="nota" class="card">
      <div class="notice notice-banner" role="note" aria-label="Aviso">
        Este plano √© indicativo para se ter uma no√ß√£o de dura√ß√£o, escalas de voos e pre√ßo m√©dio de hot√©is.
        Os pre√ßos est√£o suscept√≠ves a altera√ß√µes.
      </div>
    </section>

    <!-- Voos -->
    <section id="voos" class="card">
      <h2 class="section-title">Voos</h2>
      <table aria-label="Voos">
        <thead>
          <tr>
            <th>Voos</th>
            <th>Data</th>
            <th>Origem</th>
            <th>Destino</th>
            <th>Partida</th>
            <th>Chegada</th>
            <th>Tempo</th>
            <th>Escala</th>
            <th class="right">Pre√ßo</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Orbest 6O863</td>
            <td>05-abr.-26</td>
            <td>Lisbon - LIS</td>
            <td>Cancun - CUN</td>
            <td>15:25</td>
            <td>19:35</td>
            <td>10:10</td>
            <td></td>
            <td class="right">542‚Ç¨</td>
          </tr>

          <tr>
            <td>Viva VB7032</td>
            <td>09-abr.-26</td>
            <td>Cancun - CUN</td>
            <td>Toluca - TLC</td>
            <td>10:53</td>
            <td>11:50</td>
            <td>02:20</td>
            <td></td>
            <td class="right">195‚Ç¨</td>
          </tr>
          <tr>
            <td>Viva (conex√£o)</td>
            <td>09-abr.-26</td>
            <td>Toluca - TLC</td>
            <td>Los Cabos - SJD</td>
            <td>12:25</td>
            <td>13:30</td>
            <td>02:05</td>
            <td></td>
            <td class="right">‚Äî</td>
          </tr>

          <tr>
            <td>Air Canada AC976</td>
            <td>13-abr.-26</td>
            <td>Los Cabos - SJD</td>
            <td>Toronto - YYZ</td>
            <td>13:10</td>
            <td>21:00</td>
            <td>04:50</td>
            <td></td>
            <td class="right">492‚Ç¨</td>
          </tr>

          <tr>
            <td>TAP TP258</td>
            <td>15-abr.-26</td>
            <td>Toronto - YYZ</td>
            <td>Lisbon - LIS</td>
            <td>17:35</td>
            <td>05:55</td>
            <td>07:20</td>
            <td></td>
            <td class="right">448‚Ç¨</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Hot√©is -->
    <section id="hoteis" class="card">
      <h2 class="section-title">Hot√©is</h2>
      <table aria-label="Hot√©is">
        <thead>
          <tr>
            <th>Hotel</th>
            <th>Local</th>
            <th>Check‚Äëin</th>
            <th>Check‚Äëout</th>
            <th>Noites</th>
            <th>Regime</th>
            <th class="right">Pre√ßo</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Esplendor by Wyndham Isla Mujeres</td>
            <td>Isla Mujeres</td>
            <td>05 abril</td>
            <td>09 abril</td>
            <td>4</td>
            <td>Tudo inclu√≠do</td>
            <td class="right">1‚ÄØ009‚Ç¨</td>
          </tr>
          <tr>
            <td>Royal Solaris Los Cabos</td>
            <td>Los Cabos</td>
            <td>09 abril</td>
            <td>13 abril</td>
            <td>4</td>
            <td>Tudo inclu√≠do</td>
            <td class="right">1‚ÄØ127‚Ç¨</td>
          </tr>
          <tr>
            <td>The Yorkville Royal Sonesta Hotel Toronto</td>
            <td>Toronto</td>
            <td>13 abril</td>
            <td>15 abril</td>
            <td>2</td>
            <td>PA</td>
            <td class="right">508‚Ç¨</td>
          </tr>
        </tbody>
      </table>
      <p class="muted">üëâ Os pre√ßos indicados podem ser por quarto/noite ou por pessoa conforme tarifa; ajusta a nota se necess√°rio.</p>
    </section>

    <!-- ========================= -->
    <!-- PLANO DI√ÅRIO (inline)    -->
    <!-- ========================= -->
    <section id="plano" class="card">
      <h2 class="section-title">Plano di√°rio</h2>

      <!-- Legenda e a√ß√µes -->
      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; margin-bottom:10px;">
        <p class="muted" style="margin:0;">
          <span class="tag tag-voo">voo</span>
          <span class="tag tag-comboio">comboio</span>
          <span class="tag tag-estrada">estrada</span>
        </p>
        <div style="display:flex; gap:8px;">
          <button type="button" class="btn-outline" id="expandAll">Expandir todos</button>
          <button type="button" class="btn-outline" id="collapseAll">Ocultar todos</button>
        </div>
      </div>

      <div id="dailyList"></div>
    </section>
  </main>

  <footer>
    <p>¬© <span id="year"></span> TravelNow</p>
  </footer>

  <!-- Estilos locais (iguais ao do plano do Uzbequist√£o) -->
  <style>
    .day-line{
      display:flex; align-items:center; justify-content:space-between;
      border-left:4px solid #5dcbed; padding:10px 12px; margin:10px 0;
      background:rgba(255,255,255,.8); border-radius:8px;
    }
    .day-line .left{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .day-line .date{ font-weight:700; color:#1F4E78; white-space:nowrap; }
    .day-line .city{ color:#333; }

    .tag{ display:inline-block; padding:4px 8px; border-radius:12px; font-size:.85rem; line-height:1.2; color:#fff; }
    .tag-voo{ background:#5dcbed; }
    .tag-comboio{ background:#7cc576; }
    .tag-estrada{ background:#c293d8; }

    .btn-tag{
      display:inline-block; border:none; cursor:pointer;
      padding:4px 10px; border-radius:12px; font-size:.85rem; line-height:1.2;
      background:#f7b1c3; color:#fff;
    }
    .btn-tag:hover{ filter:brightness(.95); }
    .btn-tag:focus{ outline:2px solid #1F4E78; outline-offset:2px; }

    .btn-outline{
      background:transparent; color:#1F4E78; border:1px solid #1F4E78;
      padding:6px 10px; border-radius:8px; cursor:pointer; font-size:.9rem;
    }
    .btn-outline:hover{ background:#1F4E78; color:#fff; }

    .day-details{
      padding:10px 12px 6px 12px; border-left:4px solid #c293d8;
      background:rgba(255,255,255,.9); border-radius:0 0 8px 8px;
      margin-top:-8px; display:none;
    }
    .day-details.open{ display:block; }

    .group{ margin:8px 0; }
    .group h4{ margin:6px 0 4px 0; color:#1F4E78; font-size:1rem; }
    .bullet{ margin:3px 0; }
  </style>

  <script>
    // =======================
    // Dados do Plano (Dias)
    // =======================
    const daysData = [
      { date: "05 abril", city: "Lisboa ‚Üí Canc√∫n", transport: [{ type: "voo", text: "6O863 15:25 ‚Üí 19:35" }],
        details: [
          { label: null,      items: ["Partida de Lisboa (LIS) e chegada a Canc√∫n (CUN)."] },
          { label: "Noite",   items: ["Transfer e chegada ao hotel."] }
        ]},
      { date: "06 abril", city: "Canc√∫n", transport: [],
        details: [
          { label: "Sugest√µes", items: ["Praias/centro de Canc√∫n", "Opcional: ferry p/ Isla Mujeres"] }
        ]},
      { date: "07 abril", city: "Canc√∫n", transport: [],
        details: [
          { label: "Sugest√µes", items: ["Dia livre em Canc√∫n / Isla Mujeres"] }
        ]},
      { date: "08 abril", city: "Canc√∫n", transport: [],
        details: [
          { label: "Sugest√µes", items: ["Dia livre para ida a Cenotes e √†s pir√¢mides."] }
        ]},
      { date: "09 abril", city: "Canc√∫n ‚Üí Los Cabos", transport: [{ type: "voo", text: "VB7032 10:53 ‚Üí 11:50" }, { type: "voo", text: "TLC ‚Üí SJD 12:25 ‚Üí 13:30" }],
        details: [
          { label: "Manh√£", items: ["Voo Canc√∫n (CUN) ‚Üí Toluca (TLC)", "Conex√£o Toluca ‚Üí Los Cabos (SJD)"] },
          { label: "Tarde", items: ["Chegada ao hotel"] }
        ]},
      { date: "10 abril", city: "Los Cabos", transport: [],
        details: [
          { label: "Sugest√µes", items: ["El Arco, Playa del Amor, passeio de barco"] }
        ]},
      { date: "11 abril", city: "Los Cabos", transport: [],
        details: [
          { label: "Sugest√µes", items: ["Dia livre / resort / atividades"] }
        ]},
      { date: "12 abril", city: "Los Cabos", transport: [],
        details: [
          { label: "Sugest√µes", items: ["Dia livre / resort / p√¥r-do-sol"] }
        ]},
      { date: "13 abril", city: "Los Cabos ‚Üí Toronto", transport: [{ type: "voo", text: "AC976 13:10 ‚Üí 21:00" }],
        details: [
          { label: "Tarde", items: ["Voo SJD ‚Üí YYZ", "Chegada ao hotel"] }
        ]},
      { date: "14 abril", city: "Toronto / Cataratas do Ni√°gara", transport: [{ type: "estrada", text: "" }],
        details: [
          { label: "Dia completo", items: ["Toronto (centro) + excurs√£o √†s Cataratas do Ni√°gara (opcional)"] }
        ]},
      { date: "15 abril", city: "Toronto ‚Üí Lisboa", transport: [{ type: "voo", text: "TP258 17:35 ‚Üí 05:55 (+1)" }],
        details: [
          { label: null, items: ["Voo de regresso YYZ ‚Üí LIS"] }
        ]},
    ];

    // =======================
    // Render Plano Di√°rio
    // =======================
    const colorByType = (type) => (type === 'voo') ? 'tag-voo' : (type === 'comboio') ? 'tag-comboio' : 'tag-estrada';
    const root = document.getElementById('dailyList');

    daysData.forEach((d, idx) => {
      const line = document.createElement('div');
      line.className = 'day-line';
      line.setAttribute('data-index', idx);

      const left = document.createElement('div');
      left.className = 'left';

      const date = document.createElement('div');
      date.className = 'date';
      date.textContent = d.date;

      const city = document.createElement('div');
      city.className = 'city';
      city.textContent = '‚Äî ' + d.city;

      left.appendChild(date);
      left.appendChild(city);

      if (d.transport && d.transport.length){
        d.transport.forEach(t => {
          const span = document.createElement('span');
          span.className = `tag ${colorByType(t.type)}`;
          span.textContent = t.text ? `${t.type} ${t.text}` : t.type;
          left.appendChild(span);
        });
      }

      const btn = document.createElement('button');
      btn.className = 'btn-tag';
      btn.type = 'button';
      btn.setAttribute('aria-expanded', 'false');
      btn.setAttribute('aria-controls', `details-${idx}`);
      btn.textContent = 'Ver detalhes';

      line.appendChild(left);
      line.appendChild(btn);

      const details = document.createElement('div');
      details.className = 'day-details';
      details.id = `details-${idx}`;

      (d.details || []).forEach(group => {
        const wrap = document.createElement('div');
        wrap.className = 'group';
        if (group.label){
          const h4 = document.createElement('h4');
          h4.textContent = group.label;
          wrap.appendChild(h4);
        }
        (group.items || []).forEach(it => {
          const p = document.createElement('div');
          p.className = 'bullet';
          p.textContent = '‚Ä¢ ' + it;
          wrap.appendChild(p);
        });
        details.appendChild(wrap);
      });

      btn.addEventListener('click', () => {
        const open = details.classList.contains('open');
        details.classList.toggle('open');
        btn.setAttribute('aria-expanded', String(!open));
        btn.textContent = open ? 'Ver detalhes' : 'Ocultar';
      });

      root.appendChild(line);
      root.appendChild(details);
    });

    // Expandir / Ocultar todos
    const expandAllBtn  = document.getElementById('expandAll');
    const collapseAllBtn = document.getElementById('collapseAll');

    expandAllBtn.addEventListener('click', () => {
      document.querySelectorAll('.day-details').forEach((el, i) => {
        el.classList.add('open');
        const btn = document.querySelector(`.day-line[data-index="${i}"] .btn-tag`);
        if(btn){ btn.setAttribute('aria-expanded','true'); btn.textContent = 'Ocultar'; }
      });
    });

    collapseAllBtn.addEventListener('click', () => {
      document.querySelectorAll('.day-details').forEach((el, i) => {
        el.classList.remove('open');
        const btn = document.querySelector(`.day-line[data-index="${i}"] .btn-tag`);
        if(btn){ btn.setAttribute('aria-expanded','false'); btn.textContent = 'Ver detalhes'; }
      });
    });

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>